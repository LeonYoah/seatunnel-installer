# ğŸš€ SeaTunnel ä¸€é”®å®‰è£…æŒ‡å—
SeaTunnel æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€åˆ†å¸ƒå¼çš„æ•°æ®é›†æˆå¹³å°ï¼Œæ”¯æŒå®æ—¶å’Œæ‰¹é‡æ•°æ®åŒæ­¥ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å¿«é€Ÿå®Œæˆ SeaTunnel çš„ Zeta é›†ç¾¤å®‰è£…éƒ¨ç½²ã€‚
Flink/Spark æ¨¡å¼è¯·è‡ªè¡Œé€‚é…ã€‚
## æ”¯æŒç‰ˆæœ¬
| ç‰ˆæœ¬ | çŠ¶æ€ |
|------|------|
| 2.3.12 | âœ… å·²æµ‹è¯• |
| 2.3.11 | âœ… å·²æµ‹è¯• |
| 2.3.10 | âœ… å·²æµ‹è¯• |
| 2.3.9 | âœ… å·²æµ‹è¯• |
| 2.3.8 | âœ… å·²æµ‹è¯• |
| 2.3.7 | âœ… å·²æµ‹è¯• |
| 2.3.6 | âœ… å·²æµ‹è¯• |

## å…¼å®¹ç³»ç»Ÿ
| æ“ä½œç³»ç»Ÿ | ç‰ˆæœ¬ | çŠ¶æ€ |
|----------|------|------|
| CentOS | 7.4+ | âœ… å·²éªŒè¯ |
| Rocky Linux | 9.1+ | âœ… å·²éªŒè¯ |
| Ubuntu | 20.04+ | ğŸš§ ç†è®ºå¯è¡Œï¼ŒæœªéªŒè¯ |
| Debian | 11+ | ğŸš§ ç†è®ºå¯è¡Œï¼ŒæœªéªŒè¯ |
| OpenEuler | 20.03+ | ğŸš§ ç†è®ºå¯è¡Œï¼ŒæœªéªŒè¯ |
| é“¶æ²³éº’éºŸ | V10(sp1,sp2,sp3) | ğŸš§ ç†è®ºå¯è¡Œï¼ŒæœªéªŒè¯ |
| æ·±åº¦ | V20+ | ğŸš§ ç†è®ºå¯è¡Œï¼ŒæœªéªŒè¯ |
| ç»Ÿä¿¡ | V20+ | ğŸš§ ç†è®ºå¯è¡Œï¼ŒæœªéªŒè¯ |

## æ¶æ„ä¸è¿ç»´æ‰©å±•è§„åˆ’
- æ§åˆ¶é¢ï¼šWeb + API ç»Ÿä¸€ç®¡ç†é›†ç¾¤ã€ä»»åŠ¡ã€å‡­è¯ã€æ’ä»¶ï¼›æä¾› RBACã€å¤šç§Ÿæˆ·ã€å®¡è®¡ã€‚
- Agent/æ¢é’ˆï¼šéƒ¨ç½²åœ¨èŠ‚ç‚¹ï¼Œè´Ÿè´£å¥åº·æ£€æŸ¥ã€æŒ‡æ ‡/æ—¥å¿—ä¸ŠæŠ¥ï¼ˆPrometheus/Loki/ESï¼‰ã€æ‰§è¡Œè¿ç»´åŠ¨ä½œï¼ˆé‡å¯ã€è‡ªæ„ˆã€æ‰©ç¼©å®¹è„šæœ¬ï¼‰ã€‚
- å¯è§‚æµ‹ä¸å‘Šè­¦ï¼šå†…ç½® Seatunnel æŒ‡æ ‡è§„èŒƒï¼ˆåå/å»¶è¿Ÿ/å¤±è´¥ç‡/CPU/å†…å­˜ï¼‰ï¼Œé¢„ç½® Grafana ä»ªè¡¨ç›˜ä¸ Alertmanager å‘Šè­¦è§„åˆ™ï¼Œå¤šæ¸ é“é€šçŸ¥ï¼ˆé’‰é’‰/ä¼å¾®/é‚®ä»¶ï¼‰ã€‚
- ä»»åŠ¡å…¨ç”Ÿå‘½å‘¨æœŸï¼šä»»åŠ¡æ¨¡æ¿/YAML æè¿° + è¡¨å•ç¼–è¾‘ï¼Œç‰ˆæœ¬åŒ–ã€Diff/å›æ»šï¼Œæäº¤/è°ƒåº¦/é‡è¯•/å›æ»šï¼Œè¿è¡Œæ—¥å¿—æµï¼Œå¤±è´¥åŸå› æç¤ºã€‚
- è¿ç»´å·¥å…·ç®±ï¼šä¸€é”®è¯Šæ–­ï¼ˆæ”¶é›† job/èŠ‚ç‚¹æ—¥å¿—ã€JVM/GC/çº¿ç¨‹ dumpã€é…ç½®å¿«ç…§ï¼‰ï¼Œå¸¸è§æ•…éšœæŒ‡çº¹åŒ¹é… â†’ è§£å†³æ–¹æ¡ˆ/ä¸€é”®ä¿®å¤è„šæœ¬ã€‚
- å¼¹æ€§ä¸å‘å¸ƒï¼šæŒ‰æŒ‡æ ‡é˜ˆå€¼æˆ–é˜Ÿåˆ—é•¿åº¦è‡ªåŠ¨æ‰©/ç¼©å®¹ï¼Œæ»šåŠ¨/é‡‘ä¸é›€/è“ç»¿å‘å¸ƒï¼Œä»»åŠ¡çº§å›æ»šï¼Œæ’ä»¶/connector å¸‚åœºï¼ˆå®‰è£…/å‡çº§/ç¦ç”¨ï¼‰ã€‚

## è·¯çº¿å›¾ï¼ˆå»ºè®®ï¼‰
1) å¯è§‚æµ‹å…ˆè¡Œï¼šå®šä¹‰æŒ‡æ ‡/æ—¥å¿—æ ‡ç­¾ï¼Œæ¥ Prometheus + Grafana + Alertmanagerï¼Œäº¤ä»˜é¢„ç½® dashboard ä¸å‘Šè­¦ã€‚
2) ä»»åŠ¡ä¸é…ç½®ï¼šWeb å¢åŠ ä»»åŠ¡åˆ—è¡¨/è¯¦æƒ…ï¼Œæ”¯æŒ YAML/è¡¨å•ç¼–è¾‘ã€ç‰ˆæœ¬åŒ–ã€Diff/å›æ»šï¼ŒGitOps åŒ–æäº¤ã€‚
3) è¯Šæ–­ä¸æ•…éšœåº“ï¼šæä¾› `diagnose.sh`/Agent æ”¶é›†æ—¥å¿—+æŒ‡æ ‡å¿«ç…§ï¼ŒUI ä¸‹è½½ï¼›åŸºäºæ—¥å¿—ç‰¹å¾åŒ¹é…å¸¸è§é—®é¢˜å¹¶ç»™å‡ºæ“ä½œå»ºè®®ã€‚
4) å¼¹æ€§ä¸å‘å¸ƒï¼šå…ˆæ‰‹åŠ¨æ‰©ç¼©å®¹ä¸æ»šåŠ¨å‘å¸ƒï¼Œå†åŠ è‡ªåŠ¨ç­–ç•¥ï¼ˆé˜ˆå€¼/é¢„æµ‹ï¼‰ï¼Œæ”¯æŒé‡‘ä¸é›€/è“ç»¿ã€‚
5) å®‰å…¨ä¸ç”Ÿæ€ï¼šRBACã€å¤šç§Ÿæˆ·ã€å®¡è®¡ï¼›æ’ä»¶/connector å¸‚åœºä¸ SDKï¼Œä¾¿äºç¤¾åŒºè´¡çŒ®ä¸æ‰©å±•ã€‚

## Web UI åŸå‹ï¼ˆæ–‡æœ¬çº¿æ¡†ï¼‰
- æ€»è§ˆ Dashboard  
  - é¡¶éƒ¨å¡ç‰‡ï¼šé›†ç¾¤å¥åº·/èŠ‚ç‚¹æ•°/ç‰ˆæœ¬ï¼›ä»»åŠ¡æˆåŠŸç‡ï¼›å»¶è¿Ÿ P50/P95ï¼›ååï¼›å‘Šè­¦è®¡æ•°ã€‚  
  - å›¾è¡¨ï¼šä»»åŠ¡æˆåŠŸç‡ä¸å¤±è´¥æ•°ï¼ˆæŠ˜çº¿+æŸ±ï¼‰ï¼›å»¶è¿Ÿ/ååï¼›èµ„æºåˆ©ç”¨ï¼ˆCPU/Memï¼‰ã€‚  
  - å³ä¾§ï¼šå‘Šè­¦æ°”æ³¡åˆ—è¡¨ï¼ˆçº§åˆ«/å¯¹è±¡/æ—¶é—´/æ“ä½œï¼‰ã€‚  
  - åº•éƒ¨ï¼šæœ€è¿‘ä»»åŠ¡è¡¨ï¼ˆçŠ¶æ€/è€—æ—¶/é”™è¯¯æ‘˜è¦ï¼‰+ æœ€è¿‘å‘Šè­¦ã€‚

- ä»»åŠ¡åˆ—è¡¨  
  - ç­›é€‰ï¼šçŠ¶æ€ã€ç±»å‹ï¼ˆæµ/æ‰¹ï¼‰ã€æ ‡ç­¾ã€æ—¶é—´ã€‚  
  - è¡¨æ ¼ï¼šä»»åŠ¡å | çŠ¶æ€ | ç‰ˆæœ¬ | è§¦å‘æ–¹å¼ | æœ€è¿‘è¿è¡Œ | è€—æ—¶ | é‡è¯•/å›æ»š | æŸ¥çœ‹æ—¥å¿—ã€‚  
  - é¡¶éƒ¨æŒ‰é’®ï¼šæ–°å»ºä»»åŠ¡ï¼ˆæ¨¡æ¿é€‰æ‹©ï¼‰ã€æ‰¹é‡é‡è¯•ã€å¯¼å…¥/å¯¼å‡ºã€‚

- ä»»åŠ¡è¯¦æƒ…  
  - Headerï¼šåç§°ã€ç‰ˆæœ¬ã€çŠ¶æ€ã€è§¦å‘ä¿¡æ¯ï¼Œæ“ä½œï¼ˆé‡è¯•/å›æ»š/åœæ­¢ï¼‰ã€‚  
  - æ—¶é—´çº¿ï¼šæäº¤ â†’ è°ƒåº¦ â†’ å¯åŠ¨ â†’ è¿è¡Œ â†’ ç»“æŸ/å¤±è´¥ï¼ˆæ˜¾ç¤ºè€—æ—¶ï¼‰ã€‚  
  - æŒ‡æ ‡å¡ï¼šå»¶è¿Ÿã€ååã€å¤±è´¥ç‡ã€é˜Ÿåˆ—é•¿åº¦/èƒŒå‹ã€‚  
  - å®æ—¶æ—¥å¿—æµï¼ˆæŒ‰ level/component è¿‡æ»¤ï¼‰+ äº‹ä»¶æµï¼ˆè°ƒåº¦/é‡å¯/æ‰©ç¼©å®¹äº‹ä»¶ï¼‰ã€‚  
  - é…ç½®ä¸ç‰ˆæœ¬ï¼šYAML/è¡¨å•åˆ‡æ¢ï¼ŒDiffï¼Œç‰ˆæœ¬å›æ»šã€‚  
  - IO è§†å›¾ï¼šSource/Sink ä¸€è§ˆï¼Œæ•°æ®é¢„è§ˆï¼ˆé‡‡æ ·ï¼‰ã€‚

- æäº¤/ç¼–è¾‘ä»»åŠ¡  
  - æ¨¡æ¿é€‰æ‹©ï¼ˆæ‰¹/æµ/DAGï¼‰ï¼Œè¡¨å•ä¸ YAML åŒæ¨¡å¼ï¼›å‚æ•°æ ¡éªŒï¼›é¢„è§ˆæ‰§è¡Œè®¡åˆ’ã€‚  
  - è°ƒåº¦ï¼šCron/äº‹ä»¶/æ‰‹åŠ¨ï¼›å¹¶å‘/ä¼˜å…ˆçº§ï¼›é‡è¯•ç­–ç•¥ã€‚  
  - å‘å¸ƒç­–ç•¥ï¼šæ»šåŠ¨/é‡‘ä¸é›€ï¼ˆæµé‡ç™¾åˆ†æ¯”ï¼‰ï¼›é¢„æ£€æŒ‰é’®ã€‚  
  - ä¿å­˜ç‰ˆæœ¬ï¼ŒGitOps æ¨¡å¼å¯ç”Ÿæˆ PRã€‚

- é›†ç¾¤/èŠ‚ç‚¹  
  - æ¦‚è§ˆå¡ï¼šèŠ‚ç‚¹æ•°ã€å¯ç”¨æ€§ã€èµ„æºæ°´ä½ã€ç‰ˆæœ¬åˆ†å¸ƒã€‚  
  - èŠ‚ç‚¹è¡¨ï¼šIP/è§’è‰²/ç‰ˆæœ¬/CPU/Mem/ç£ç›˜/çŠ¶æ€/å¿ƒè·³ï¼Œæ“ä½œï¼ˆé‡å¯/éš”ç¦»/å‡çº§ï¼‰ã€‚  
  - æ‰©ç¼©å®¹é¢æ¿ï¼šæ‰‹åŠ¨æˆ–ç­–ç•¥ï¼ˆé˜ˆå€¼/é¢„æµ‹ï¼‰ï¼›æ‰§è¡Œè®°å½•ã€‚  
  - å‘å¸ƒç®¡ç†ï¼šæ»šåŠ¨/é‡‘ä¸é›€/è“ç»¿ï¼Œè¿›åº¦ä¸å›æ»šã€‚

- è¯Šæ–­ä¸­å¿ƒ  
  - ä¸€é”®è¯Šæ–­ï¼šé€‰æ‹©èŒƒå›´ï¼ˆèŠ‚ç‚¹/ä»»åŠ¡ï¼‰ï¼Œå‹¾é€‰å†…å®¹ï¼ˆæ—¥å¿—/çº¿ç¨‹ dump/GC/é…ç½®ï¼‰ï¼Œç”Ÿæˆè¯Šæ–­åŒ…å¹¶æä¾›ä¸‹è½½ã€‚  
  - æ•…éšœæŒ‡çº¹ï¼šæ—¥å¿—ç‰¹å¾ â†’ è§£å†³æ–¹æ¡ˆ/ä¸€é”®ä¿®å¤è„šæœ¬ã€‚  
  - å†å²è¯Šæ–­ï¼šæ—¶é—´ã€å¯¹è±¡ã€ç»“æœã€ä¸‹è½½é“¾æ¥ã€‚

- æ’ä»¶å¸‚åœº  
  - åˆ—è¡¨ï¼šåç§°/ç±»å‹ï¼ˆSource/Sink/Transformï¼‰/ç‰ˆæœ¬/å…¼å®¹æ€§/çŠ¶æ€ï¼Œæ“ä½œï¼ˆå®‰è£…/å‡çº§/ç¦ç”¨ï¼‰ã€‚  
  - è¯¦æƒ…ï¼šèƒ½åŠ›è¯´æ˜ã€é…ç½®ç¤ºä¾‹ã€å˜æ›´è®°å½•ã€ä¾èµ–æ£€æŸ¥ã€‚

- è®¾ç½®/å®‰å…¨  
  - å‡­è¯ä¸è¿æ¥ï¼šæ•°æ®æºå¯†é’¥/è¿æ¥ç®¡ç†ã€‚  
  - RBAC/å¤šç§Ÿæˆ·ï¼šç”¨æˆ·ã€è§’è‰²ã€å‘½åç©ºé—´/é˜Ÿåˆ—éš”ç¦»ã€‚  
  - é€šçŸ¥ä¸å‘Šè­¦æ¸ é“ï¼šé’‰é’‰/ä¼å¾®/é‚®ä»¶/çŸ­ä¿¡ï¼›SLO/SLA è®¾ç½®ã€‚  
  - å®¡è®¡æ—¥å¿—ï¼šæ“ä½œè½¨è¿¹ã€å¯¼å‡ºã€‚


[![Apache License 2.0](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](LICENSE)

## é¡¹ç›®åˆè¡·

è¿™ä¸ªä¸€é”®å®‰è£…å·¥å…·çš„ç›®æ ‡å¾ˆç®€å•ï¼š

- é™ä½ SeaTunnel å®‰è£…å’Œé…ç½®é—¨æ§›ï¼Œå¿«é€Ÿæ‹‰èµ·ä¸€ä¸ªå¯ç”¨é›†ç¾¤
- æ”¯æŒå•èŠ‚ç‚¹ / å¤šèŠ‚ç‚¹ã€æ··åˆ / åˆ†ç¦»ç­‰å¤šç§éƒ¨ç½²æ¨¡å¼ï¼Œæ–¹ä¾¿ä½“éªŒå’Œæµ‹è¯•
- å†…ç½®å¸¸ç”¨è¿æ¥å™¨ã€systemd æœåŠ¡å’Œè¿ç»´è„šæœ¬ï¼Œå¼€ç®±å³ç”¨

## å¿«é€Ÿå¼€å§‹

### 1. å•èŠ‚ç‚¹å®‰è£…(é»˜è®¤rootç”¨æˆ·)

#### æ–¹å¼ä¸€ï¼šGitHubä¸‹è½½ï¼ˆå›½å¤–æ¨èï¼‰
```bash
# ç¬¬ä¸€æ­¥ï¼šä¸‹è½½å¹¶è§£å‹
curl -s https://api.github.com/repos/LeonYoah/seatunnel-installer/releases/latest | grep "tag_name" | cut -d '"' -f 4 | xargs -I {} sh -c 'mkdir -p ~/seatunnel-installer && cd ~/seatunnel-installer && wget https://github.com/LeonYoah/seatunnel-installer/archive/refs/tags/{}.tar.gz -O- | tar -xz'

# ç¬¬äºŒæ­¥ï¼šè¿›å…¥ç›®å½•å¹¶æ‰§è¡Œå®‰è£…
cd ~/seatunnel-installer/seatunnel-installer-* && chmod +x install_seatunnel.sh

# å®Œæ•´å®‰è£…ï¼ˆå«æ’ä»¶ï¼‰
./install_seatunnel.sh

# ä»…å®‰è£…æ ¸å¿ƒç»„ä»¶ï¼ˆä¸å«æ’ä»¶ï¼‰
./install_seatunnel.sh --no-plugins

# åœ¨å·²æœ‰å®‰è£…çš„seatunnelä¸­æ›´æ–°æ’ä»¶
./install_seatunnel.sh --install-plugins
```

#### æ–¹å¼äºŒï¼šGiteeä¸‹è½½ï¼ˆå›½å†…æ¨èï¼‰
```bash
# ç¬¬ä¸€æ­¥ï¼šä¸‹è½½å¹¶è§£å‹
curl -s https://gitee.com/api/v5/repos/lyb173/seatunnel-installer/releases/latest | grep -o '"tag_name":"[^\"]*' | cut -d'"' -f4 | xargs -I {} sh -c 'mkdir -p ~/seatunnel-installer && cd ~/seatunnel-installer && wget https://gitee.com/lyb173/seatunnel-installer/repository/archive/{}.tar.gz -O- | tar -xz'

# ç¬¬äºŒæ­¥ï¼šè¿›å…¥ç›®å½•å¹¶æ‰§è¡Œå®‰è£…
cd ~/seatunnel-installer/seatunnel-installer-* && chmod +x install_seatunnel.sh

# å®Œæ•´å®‰è£…ï¼ˆå«æ’ä»¶ï¼‰
./install_seatunnel.sh

# ä»…å®‰è£…æ ¸å¿ƒç»„ä»¶ï¼ˆä¸å«æ’ä»¶ï¼‰
./install_seatunnel.sh --no-plugins

# åœ¨å·²æœ‰å®‰è£…çš„seatunnelä¸­æ›´æ–°æ’ä»¶
./install_seatunnel.sh --install-plugins
```

> å¦‚æœä½ å·²ç»æ‰‹åŠ¨ä¸‹è½½å¹¶è¿›å…¥å®‰è£…ç›®å½•ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œï¼š
> 
> ```bash
> chmod +x install_seatunnel.sh
> ./install_seatunnel.sh          # ä½¿ç”¨ config.properties ä¸­çš„é…ç½®
> ```

### 2. Web å®‰è£…å‘å¯¼ï¼ˆæ¨èï¼‰

æœ¬ä»“åº“å†…ç½®äº†ä¸€ä¸ª Web å®‰è£…å‘å¯¼ï¼Œé€‚åˆå¸Œæœ›é€šè¿‡é¡µé¢ä¸€æ­¥æ­¥å®Œæˆé…ç½®å’Œå®‰è£…çš„åœºæ™¯ã€‚

```bash
chmod +x start_web.sh
./start_web.sh start              # é»˜è®¤ç«¯å£å¯åŠ¨



## å…¶ä»–å‚æ•°
./start_web.sh -p 9000 start      # ç«¯å£9000å¯åŠ¨
./start_web.sh -c start           # æ¸…ç†åå¯åŠ¨
./start_web.sh -c -p 9000 start   # æ¸…ç†åç«¯å£9000å¯åŠ¨
./start_web.sh stop               # åœæ­¢
./start_web.sh clean              # ä»…æ¸…ç†ä¸´æ—¶æ–‡ä»¶
```

å¯åŠ¨æˆåŠŸåç»ˆç«¯ä¼šè¾“å‡ºç±»ä¼¼ä¿¡æ¯ï¼š

```text
============================================
SeaTunnel Web å®‰è£…å‘å¯¼å·²å¯åŠ¨!
============================================

è®¿é—®: http://<å½“å‰æœºå™¨IP>:8888
CLI:  ./install_seatunnel.sh --help
```

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ä¸Šè¿°åœ°å€ï¼š

- åœ¨ã€Œå®‰è£…é…ç½®ã€é¡µå¡«å†™åŸºç¡€ä¿¡æ¯ï¼ˆå®‰è£…ç›®å½•ã€éƒ¨ç½²æ¨¡å¼ã€èŠ‚ç‚¹ IPã€å®‰è£…æ¨¡å¼ online/offline ç­‰ï¼‰
- æ”¯æŒåœ¨çº¿/ç¦»çº¿å®‰è£…ã€æ··åˆ/åˆ†ç¦»éƒ¨ç½²ã€HDFS/OSS/S3 æ£€æŸ¥ç‚¹å­˜å‚¨ç­‰é…ç½®
- ç‚¹å‡»ã€Œä¿å­˜é…ç½®å¹¶å¼€å§‹å®‰è£…ã€ï¼Œå³ä¾§æ—¥å¿—åŒºåŸŸå®æ—¶å±•ç¤ºå®‰è£…è¿‡ç¨‹
- æ¯ä¸ªæ­¥éª¤éƒ½æœ‰çŠ¶æ€å’Œæ“ä½œæŒ‰é’®ï¼Œå¯ä»¥å•æ­¥æ‰§è¡Œã€é‡è¯•ã€ä»æŒ‡å®šæ­¥éª¤ç»§ç»­ç­‰

ç¤ºä¾‹ç•Œé¢æˆªå›¾ï¼š

![SeaTunnel Web å®‰è£…å‘å¯¼](image/install01.png)

> æç¤ºï¼šWeb å®‰è£…å‘å¯¼æœ¬è´¨ä¸Šè¿˜æ˜¯è°ƒç”¨åŒä¸€ä¸ª `install_seatunnel.sh`ï¼Œåªæ˜¯é€šè¿‡é¡µé¢å¸®ä½ ç¼–è¾‘ `config.properties` å¹¶æŒ‰æ­¥éª¤æ‰§è¡Œã€‚

---

## å¸¸ç”¨é…ç½®ç¤ºä¾‹ï¼ˆconfig.propertiesï¼‰

`config.properties` æ˜¯æ‰€æœ‰å®‰è£…æ–¹å¼çš„å”¯ä¸€é…ç½®å…¥å£ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹ç¤ºä¾‹ï¼ˆä»…ä¿ç•™å¸¸ç”¨é¡¹ï¼‰ï¼š

```properties
SEATUNNEL_VERSION=2.3.12

# å®‰è£…æ¨¡å¼
INSTALL_MODE=online          # online / offline
PACKAGE_PATH=/path/to/apache-seatunnel-${SEATUNNEL_VERSION}-bin.tar.gz

# å®‰è£…ç›®å½•
BASE_DIR=/home/seatunnel/seatunnel-package

# éƒ¨ç½²æ¨¡å¼
DEPLOY_MODE=separated        # separated / hybrid

# åˆ†ç¦»æ¨¡å¼èŠ‚ç‚¹
MASTER_IP=192.168.102.101
WORKER_IPS=192.168.102.102

# æ··åˆæ¨¡å¼èŠ‚ç‚¹
CLUSTER_NODES=192.168.102.101,192.168.102.102

# ç«¯å£é…ç½®
HYBRID_PORT=5801
MASTER_PORT=5801
WORKER_PORT=5802
MASTER_HTTP_PORT=8080

# JVM å†…å­˜é…ç½®ï¼ˆGBï¼‰
HYBRID_HEAP_SIZE=3
MASTER_HEAP_SIZE=1
WORKER_HEAP_SIZE=3

# æ£€æŸ¥ç‚¹å­˜å‚¨
CHECKPOINT_STORAGE_TYPE=LOCAL_FILE   # LOCAL_FILE / HDFS / OSS / S3
CHECKPOINT_NAMESPACE=/tmp/seatunnel/checkpoint/

# systemd è‡ªå¯åŠ¨
ENABLE_AUTO_START=true
```

> å»ºè®®ï¼šå…ˆç”¨ Web å‘å¯¼åœ¨æµè§ˆå™¨é‡ŒæŠŠé…ç½®å¡«å¥½å¹¶ä¿å­˜ï¼Œç„¶åå†æ ¹æ®éœ€è¦æ‰‹åŠ¨æŸ¥çœ‹/å¾®è°ƒ `config.properties`ã€‚

---

## å¤šèŠ‚ç‚¹ / éƒ¨ç½²æ¨¡å¼è¦ç‚¹

- **åˆ†ç¦»æ¨¡å¼ï¼ˆDEPLOY_MODE=separatedï¼‰**
  - Master è´Ÿè´£æ§åˆ¶ä¸åè°ƒï¼ŒWorker è´Ÿè´£æ‰§è¡Œä»»åŠ¡
  - å¿…é¡»é…ç½® `MASTER_IP` å’Œ `WORKER_IPS`
  - ç«¯å£ä¸»è¦ä½¿ç”¨ `MASTER_PORT` / `WORKER_PORT` / `MASTER_HTTP_PORT`

- **æ··åˆæ¨¡å¼ï¼ˆDEPLOY_MODE=hybridï¼‰**
  - æ‰€æœ‰èŠ‚ç‚¹è§’è‰²ç›¸åŒï¼Œç»Ÿä¸€å†™åœ¨ `CLUSTER_NODES`
  - ç«¯å£ä¸»è¦ä½¿ç”¨ `HYBRID_PORT`ï¼ˆé›†ç¾¤ï¼‰å’Œ `MASTER_HTTP_PORT`ï¼ˆWeb/RESTï¼‰

> ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å»ºè®®ä½¿ç”¨åˆ†ç¦»æ¨¡å¼ï¼Œå¹¶ç»“åˆ HDFS / OSS / S3 ä½œä¸ºæ£€æŸ¥ç‚¹å­˜å‚¨ã€‚

---

## å¸è½½ SeaTunnel

å¸è½½è„šæœ¬ä¼šæ ¹æ® `config.properties` ä¸­çš„é…ç½®ï¼Œå®‰å…¨åœ°åœæ­¢æœåŠ¡å¹¶åˆ é™¤å®‰è£…ç›®å½•ã€Java è½¯é“¾æ¥ã€systemd é…ç½®ç­‰ã€‚

```bash
chmod +x uninstall_seatunnel.sh
./uninstall_seatunnel.sh
```

> å¸è½½å‰è¯·ç¡®è®¤ï¼š
> - ä¸å†éœ€è¦å½“å‰é›†ç¾¤å’Œç›¸å…³æ•°æ®
> - æ‰€æœ‰é‡è¦é…ç½®å’Œæ—¥å¿—å·²è‡ªè¡Œå¤‡ä»½

---

## systemd æœåŠ¡ç®¡ç†ï¼ˆå®‰è£…å®Œæˆåï¼‰

å¦‚æœåœ¨é…ç½®ä¸­å¼€å¯äº† `ENABLE_AUTO_START=true`ï¼Œå®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨ç”Ÿæˆ systemd æœåŠ¡ï¼š

- æ··åˆæ¨¡å¼ï¼š`seatunnel`
- åˆ†ç¦»æ¨¡å¼ï¼š`seatunnel-master`ã€`seatunnel-worker`

å¸¸ç”¨å‘½ä»¤ç¤ºä¾‹ï¼š

```bash
# Master èŠ‚ç‚¹
sudo systemctl start seatunnel-master
sudo systemctl status seatunnel-master

# Worker èŠ‚ç‚¹
sudo systemctl start seatunnel-worker
sudo systemctl status seatunnel-worker

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u seatunnel-master -n 100 --no-pager
sudo journalctl -u seatunnel-worker -n 100 --no-pager
```

---

## æ›´å¤šä¿¡æ¯

- æ›´å¤æ‚çš„è¿æ¥å™¨/ä¾èµ–é…ç½®ï¼Œè¯·ç›´æ¥å‚è€ƒ `config.properties` ä¸­çš„æ³¨é‡Š
- SeaTunnel å®˜æ–¹æ–‡æ¡£ï¼šhttps://seatunnel.apache.org/docs

æœ¬ README ä»…ä¿ç•™æœ€å¸¸ç”¨çš„å®‰è£…å’Œè¿è¡Œæ–¹å¼ï¼Œä¾¿äºå¿«é€Ÿä¸Šæ‰‹ï¼Œå…¶ä½™ç»†èŠ‚ä»¥å®é™…è„šæœ¬å’Œé…ç½®æ–‡ä»¶ä¸ºå‡†ã€‚
